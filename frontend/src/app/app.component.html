<!-- Toolbar -->
<div class="toolbar" role="banner">
  <img
    width="40"
    alt="App Logo"
    src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgdmlld0JveD0iMCAwIDI1MCAyNTAiCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzMxIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgogIDxkZWZzCiAgICAgaWQ9ImRlZnMzNSI+CiAgICA8bGluZWFyR3JhZGllbnQKICAgICAgIGlkPSJsaW5lYXJHcmFkaWVudDk2NiI+CiAgICAgIDxzdG9wCiAgICAgICAgIHN0eWxlPSJzdG9wLWNvbG9yOiMwODQ4OWM7c3RvcC1vcGFjaXR5OjE7IgogICAgICAgICBvZmZzZXQ9IjAiCiAgICAgICAgIGlkPSJzdG9wOTY0IiAvPgogICAgPC9saW5lYXJHcmFkaWVudD4KICA8L2RlZnM+CiAgPGVsbGlwc2UKICAgICBzdHlsZT0iZmlsbDojMDg0ODljO3N0cm9rZTojZjJmMmYyO3N0cm9rZS13aWR0aDoxLjIxNTA0O2ZvbnQtdmFyaWF0aW9uLXNldHRpbmdzOm5vcm1hbDtvcGFjaXR5OjE7dmVjdG9yLWVmZmVjdDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1kYXNob2Zmc2V0OjA7c3Ryb2tlLW9wYWNpdHk6MTstaW5rc2NhcGUtc3Ryb2tlOm5vbmU7c3RvcC1jb2xvcjojMDAwMDAwO3N0b3Atb3BhY2l0eToxIgogICAgIGlkPSJlbGxpcHNlNTQxIgogICAgIGN4PSIxMjMuMzA1MDYiCiAgICAgY3k9IjEyNy44ODM1MSIKICAgICByeD0iMTAwLjE3NTI2IgogICAgIHJ5PSIxMDEuOTkwMiIgLz4KPC9zdmc+"
  />
  <span>Media Files Backup</span>
  <div class="spacer"></div>
</div>

<div class="content" role="main">
  <form (ngSubmit)="onSubmit()" [formGroup]="backupForm">
    <div class="card-container">
      <mat-form-field appearance="outline">
        <mat-label>Media Type</mat-label>
        <mat-select required formControlName="mediaType">
          <mat-option *ngFor="let mediaType of mediaTypes" [value]="mediaType">
            {{mediaType.name}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="mediaTypeControl.hasError('required')">Please choose a media type</mat-error>
      </mat-form-field>
    </div>
    <div class="card-container">
      <mat-form-field appearance="outline">
        <mat-label>Source Device</mat-label>
        <mat-select required formControlName="sourceDevice">
          <mat-option *ngFor="let sourceDevice of sourceDevices" [value]="sourceDevice">
            {{sourceDevice.name}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="sourceDeviceControl.hasError('required')">Please choose a Device</mat-error>
      </mat-form-field>
      <div class="source-target-arrow">
        <mat-icon>arrow_circle_right</mat-icon>
      </div>
      <mat-form-field appearance="outline">
        <mat-label>Target Device</mat-label>
        <mat-select required formControlName="targetDevice">
          <mat-option *ngFor="let targetDevice of targetDevices" [value]="targetDevice">
            {{targetDevice.name}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="sourceDeviceControl.hasError('required')">Please choose a Device</mat-error>
      </mat-form-field>
    </div>

    <div class="card-container">
      <mat-spinner [diameter]="20" *ngIf="showSpinner() | async"></mat-spinner>
      <button mat-raised-button type="submit" [disabled]="backupForm.invalid || backupForm.pending">
        Launch Backup
      </button>
    </div>
  </form>
  <!-- Terminal -->
  <div class="terminal"
       [ngClass]="successfulRequest === true ? 'success' : successfulRequest === null ? '' : 'failure'">
    <pre [innerHTML]="responseMessage"></pre>
  </div>

  <!-- Footer -->
  <footer>
  </footer>
</div>

<router-outlet></router-outlet>
